(this["webpackJsonpelectron-react"]=this["webpackJsonpelectron-react"]||[]).push([[0],{142:function(e,t,c){},144:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(23),r=c.n(s),l=(c(96),c(97),c(8)),i=c(20),o=c(26),d=c(14),j=c(3),u=c(86),b=c(2),h=function(e){var t=e.handleFormSubmit,c=Object(a.useState)(""),n=Object(l.a)(c,2),s=n[0],r=n[1],h=Object(a.useState)({filePath:"",modelName:"",xmlaEndpoint:"",thresholdValue:"",isFirstTime:!1}),m=Object(l.a)(h,2),O=m[0],x=m[1],f=function(e){var t=e.target,c=t.name,a=t.value,n=t.type,s=t.checked,r="checkbox"===n?s:a;x(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},c,r)))};console.log(s);var p=Object(a.useState)({filepath:[]}),v=Object(l.a)(p,2),N=v[0],g=v[1],w=Object(a.useState)([]),D=Object(l.a)(w,2),C=D[0],S=D[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:3002/getreport");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,g(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching reports:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=N.filepath.map((function(e){var t=e[0],c=t.split("\\").pop().replace(/\..+$/,"");return{value:t,label:c}}));S(e)}),[N]),Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h1",{children:"Metric Load Time Tool"}),Object(b.jsx)("form",{class:"well form-horizontal mt-5",action:"/submit",method:"post",id:"contact_form",children:Object(b.jsxs)("fieldset",{children:[Object(b.jsxs)("div",{class:"form-group d-flex",children:[Object(b.jsx)("label",{class:"col-md-4 control-label",children:"File Paths"}),Object(b.jsx)("div",{class:"col-md-8",children:Object(b.jsx)(u.a,{isMulti:!0,options:C,onChange:function(e){r(e.map((function(e){return e.value})).join(",")),x(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},"filePath",e.map((function(e){return e.value})).join(","))))}})})]}),Object(b.jsxs)("div",{class:"form-group d-flex",children:[Object(b.jsx)("label",{class:"col-md-4 control-label",children:"Model Name"}),Object(b.jsx)("div",{class:"col-md-8",children:Object(b.jsx)("input",{name:"modelName",placeholder:"Enter the Model Name",class:"form-control",type:"text",value:O.modelName,onChange:f})})]}),Object(b.jsxs)("div",{class:"form-group d-flex",children:[Object(b.jsx)("label",{class:"col-md-4 control-label",children:"XMLA Endpoint"}),Object(b.jsx)("div",{class:"col-md-8",children:Object(b.jsx)("input",{name:"xmlaEndpoint",placeholder:"Enter the XMLA Endpoint of Workspace",class:"form-control",value:O.xmlaEndpoint,type:"text",onChange:f})})]}),Object(b.jsxs)("div",{class:"form-group d-flex",children:[Object(b.jsx)("label",{class:"col-md-4 control-label",children:"Threshold Value"}),Object(b.jsx)("div",{class:"col-md-8",children:Object(b.jsx)("input",{name:"thresholdValue",placeholder:"Enter Threshold Value",class:"form-control",value:O.thresholdValue,type:"text",onChange:f})})]}),Object(b.jsxs)("div",{class:"form-group d-flex",children:[Object(b.jsx)("label",{class:"col-md-4 control-label",children:"Running for First Time?"}),Object(b.jsx)("div",{class:"col-md-8",children:Object(b.jsx)("input",{type:"checkbox",id:"running_first_time",name:"isFirstTime",value:O.isFirstTime,onChange:f})})]}),Object(b.jsx)("div",{class:"form-group d-flex",children:Object(b.jsx)("div",{class:"col-md-8 col-md-offset-4",children:Object(b.jsx)("button",{class:"btn btn-success",onClick:function(e){e.preventDefault(),t(O)},children:"Go!"})})})]})})]})},m=c(15),O=c(182),x=c(186),f=c(179),p=c(183),v=c(84),N=c.n(v),g=c(5),w=c(6),D=c(9),C=c(10),S=c(64);c(138),c(139);function y(e){return e.cell._cell.value>0?Object(b.jsx)("p",{className:"text-danger",children:"\u25b2"}):Object(b.jsx)("p",{className:"text-success",children:"\u25bc"})}var T=function(e){Object(D.a)(c,e);var t=Object(C.a)(c);function c(){var e;Object(g.a)(this,c);for(var a=arguments.length,n=new Array(a),s=0;s<a;s++)n[s]=arguments[s];return(e=t.call.apply(t,[this].concat(n))).state={data:e.props.data,threshold:e.props.formData.thresholdValue,isFirstTime:e.props.formData.isFirstTime,divColor:"initial-color",selectedName:""},e.ref=null,e.getColumns=function(){var t=[{title:"Measure",field:"Measure",width:200},{title:"Dimension Name",field:"DimensionName",width:200},{title:"Column Name",field:"ColumnName",width:150},{title:"LoadTime",field:"LoadTime",width:150}];return e.state.isFirstTime||t.push({title:"Previous Load Time",field:"PreviousLoadTime",width:200},{title:"Change in Load Time",field:"ChangeinLoadTime",width:200,formatter:Object(S.reactFormatter)(Object(b.jsx)(y,{}))}),t.push({title:"Report Name",field:"ReportName",width:150},{title:"Page Name",field:"PageName",width:175},{title:"Visual Name",field:"VisualName",width:125},{title:"Visual Title",field:"VisualTitle",width:150}),t},e}return Object(w.a)(c,[{key:"render",value:function(){var e=this;return Object(b.jsx)("div",{className:"mt-5 mx-2 border",children:Object(b.jsx)(S.ReactTabulator,{columns:this.getColumns(),data:this.props.data,footerElement:Object(b.jsx)("span",{children:"Footer"}),rowFormatter:function(t){t.getData().LoadTime===e.state.threshold&&(t.getElement().style.backgroundColor="#cf787e")}})})}}]),c}(n.a.Component),k=T,V=function(e){var t=e.response,c=e.formData,n=t.result,s=Object(a.useState)(""),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(""),j=Object(l.a)(d,2),u=j[0],h=j[1],v=Object(a.useState)(""),g=Object(l.a)(v,2),w=g[0],D=g[1],C=Object(a.useState)(""),S=Object(l.a)(C,2),y=S[0],T=S[1],V=Object(a.useState)(""),E=Object(l.a)(V,2),L=E[0],M=E[1],F=Object(a.useState)(n),P=Object(l.a)(F,2),A=P[0],_=P[1],R=Object(a.useState)(!1),J=Object(l.a)(R,2),W=J[0],I=J[1],B=Object(a.useState)(null),z=Object(l.a)(B,2),X=z[0],G=z[1],Y=Object(a.useState)(!1),$=Object(l.a)(Y,2),q=$[0],H=$[1],K=Object(a.useState)(!1),Q=Object(l.a)(K,2),U=Q[0],Z=Q[1],ee=Object(m.a)(new Set(t.result.map((function(e){return e.Measure})))),te=Object(m.a)(new Set(t.result.map((function(e){return e.DimensionName})))),ce=Object(m.a)(new Set(t.result.map((function(e){return e.ReportName})))),ae=Object(m.a)(new Set(t.result.map((function(e){return e.VisualName})))),ne=Object(m.a)(new Set(t.result.map((function(e){return e.PageName})))),se=Boolean(X),re=se?"simple-popover":void 0;function le(e,t,c,a,s){var r=n.filter((function(n){return(""===e||n.Measure===e)&&(""===t||n.DimensionName===t)&&(""===c||n.ReportName===c)&&(""===a||n.VisualName===a)&&(""===s||n.PageName===s)}));_(r)}return Object(b.jsxs)("div",{className:"container mt-5",style:{maxWidth:"fit-content"},children:[Object(b.jsxs)("div",{className:"Maindropdowncontainer d-flex justify-content-around",children:[Object(b.jsxs)("div",{className:"DropDownContainer mx-4",children:[Object(b.jsx)("div",{className:"DropdownLabel mx-2",children:" Measure"}),Object(b.jsx)("div",{className:"Dropdown",children:Object(b.jsxs)("select",{value:i,onChange:function(e){o(e.target.value),le(e.target.value,u,w,y,L)},className:"mx-2",children:[Object(b.jsx)("option",{value:"",children:" All Measures"}),ee.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(b.jsxs)("div",{className:"DropDownContainer mx-4",children:[Object(b.jsx)("div",{className:"DropdownLabel mx-2",children:"Dimension "}),Object(b.jsx)("div",{className:"Dropdown",children:Object(b.jsxs)("select",{value:u,onChange:function(e){h(e.target.value),le(i,e.target.value,w,y,L)},className:"mx-2",children:[Object(b.jsx)("option",{value:"",children:" All Dimensions"}),te.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(b.jsxs)("div",{className:"DropDownContainer mx-4",children:[Object(b.jsx)("div",{className:"DropdownLabel mx-2",children:"Report "}),Object(b.jsx)("div",{className:"Dropdown",children:Object(b.jsxs)("select",{value:w,onChange:function(e){D(e.target.value),le(i,u,e.target.value,y,L)},className:"mx-2",children:[Object(b.jsx)("option",{value:"",children:"All Reports"}),ce.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(b.jsxs)("div",{className:"DropDownContainer mx-4",children:[Object(b.jsx)("div",{className:"DropdownLabel mx-2",children:"Page "}),Object(b.jsx)("div",{className:"Dropdown",children:Object(b.jsxs)("select",{value:L,onChange:function(e){M(e.target.value),le(i,u,w,y,e.target.value)},className:"mx-2",children:[Object(b.jsx)("option",{value:"",children:"All Pages"}),ne.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(b.jsxs)("div",{className:"DropDownContainer mx-4",children:[Object(b.jsx)("div",{className:"DropdownLabel mx-2",children:"Visual "}),Object(b.jsx)("div",{className:"Dropdown",children:Object(b.jsxs)("select",{value:y,onChange:function(e){T(e.target.value),le(i,u,w,e.target.value,L)},className:"mx-2",children:[Object(b.jsx)("option",{value:"",children:"All Visuals"}),ae.map((function(e,t){return Object(b.jsx)("option",{value:e,children:e},t)}))]})})]}),Object(b.jsx)(O.a,{"aria-describedby":re,variant:"contained",onClick:function(e){G(e.currentTarget)},className:"mx-2 popoverBtn",children:Object(b.jsx)(x.a,{children:Object(b.jsx)(N.a,{})})}),Object(b.jsx)(f.a,{id:re,style:{display:"flex",flexDirection:"row"},open:se,anchorEl:X,onClose:function(){G(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(b.jsxs)(p.a,{sx:{p:2},className:"d-flex flex-column",children:[Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:q,onChange:function(e){H(e.target.checked),_(n.filter((function(e){return!!q||e.LoadTime===c.thresholdValue})))},className:"mx-2"}),"Above Threshold"]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:W,onChange:function(e){I(e.target.checked),_(n.filter((function(e){return!!W||"1"===e.hasDimension})))},className:"mx-2"}),"Measure With Dimensions"]}),Object(b.jsxs)("label",{children:[Object(b.jsx)("input",{type:"checkbox",checked:U,onChange:function(e){Z(e.target.checked),_(n.filter((function(e){return!!U||"-"!==e.VisualName})))},className:"mx-2"}),"Measure With Visuals"]})]})})]}),Object(b.jsxs)("div",{className:"cards",children:[Object(b.jsx)("div",{className:"carD px-5",children:Object(b.jsx)("div",{className:"card total_measures  rounded-0 ",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-text",children:Object(b.jsx)("b",{children:"Total Measure Combination"})}),Object(b.jsx)("h3",{className:"card-title mb-auto",children:t.result.length})]})})}),Object(b.jsx)("div",{className:"carD px-5",children:Object(b.jsx)("div",{className:"card combinations_below_threshold  rounded-0",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-text",children:Object(b.jsx)("b",{children:"Combinations below threshold"})}),Object(b.jsx)("h3",{className:"card-title mb-auto",children:t.result.map((function(e){return e.LoadTime})).filter((function(e){return e<c.thresholdValue})).length})]})})}),Object(b.jsx)("div",{className:"carD px-5",children:Object(b.jsx)("div",{className:"card combinations_above_threshold  rounded-0",children:Object(b.jsxs)("div",{className:"card-body",children:[Object(b.jsx)("h4",{className:"card-text",children:Object(b.jsx)("b",{children:"Combinations above threshold"})}),Object(b.jsx)("h3",{className:"card-title mb-auto",children:t.result.map((function(e){return e.LoadTime})).filter((function(e){return e===c.thresholdValue})).length})]})})})]}),Object(b.jsx)("div",{className:"table mt-3",style:{overflowY:"auto",height:"67vh"},children:Object(b.jsx)(k,{data:A,formData:c})})]})},E=c(185),L=c(184);function M(e){return Object(b.jsxs)(L.a,{sx:{display:"flex",alignItems:"center"},children:[Object(b.jsx)(L.a,{sx:{width:"100%",mr:1},children:Object(b.jsx)(E.a,Object(j.a)({variant:"determinate"},e))}),Object(b.jsx)(L.a,{sx:{minWidth:35},children:Object(b.jsx)(p.a,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}function F(e){var t=e.totalprogress,c=Object(a.useState)(10),n=Object(l.a)(c,2),s=n[0],r=n[1];return Object(a.useEffect)((function(){var e=setInterval((function(){r((function(e){return e>=95?95:e+.001}))}),1e11*t);return function(){clearInterval(e)}}),[]),Object(b.jsx)(L.a,{sx:{width:"100%"},children:Object(b.jsx)(M,{value:s})})}c(142);var P=function(){var e=Object(a.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],s=Object(a.useState)(null),r=Object(l.a)(s,2),i=r[0],o=r[1],d=Object(a.useState)(0),j=Object(l.a)(d,2),u=j[0],m=j[1],O=Object(a.useState)({}),x=Object(l.a)(O,2),f=x[0],p=x[1];return Object(b.jsx)(a.Fragment,{children:Object(b.jsx)("div",{children:c?Object(b.jsx)("div",{children:Object(b.jsx)(F,{totalprogress:u})}):i?Object(b.jsx)(V,{response:i,formData:f}):Object(b.jsx)(h,{handleFormSubmit:function(e){n(!0),p(e),fetch("http://127.0.0.1:3002/progress",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(JSON.parse(e).result)})).catch((function(e){console.error("Error:",e),alert(e)})),setTimeout((function(){fetch("http://127.0.0.1:3002/data",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(i),o(JSON.parse(e)),n(!1)})).catch((function(e){console.error("Error:",e),alert(e)}))}),1e5)}})})})};r.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(P,{})}),document.getElementById("root"))},97:function(e,t,c){}},[[144,1,2]]]);
//# sourceMappingURL=main.976e431c.chunk.js.map