(this["webpackJsonpelectron-react"]=this["webpackJsonpelectron-react"]||[]).push([[0],{150:function(e,t,c){},194:function(e,t,c){},195:function(e,t,c){},196:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),l=c(28),s=c.n(l),r=(c(149),c(150),c(10)),i=c(24),o=c(32),d=c(3),j=c(7),u=c(129),h=c(1),b=function(e){var t=e.handleFormSubmit,c=Object(a.useState)(""),n=Object(r.a)(c,2),l=n[0],s=n[1],b=Object(a.useState)({multipleFiles:!1,singleFile:!1,filePath:"",modelName:"",xmlaEndpoint:"",thresholdValue:"",isFirstTime:!1}),m=Object(r.a)(b,2),O=m[0],x=m[1],f=function(e){var t=e.target,c=t.name,a=t.value,n=t.type,l=t.checked,s="checkbox"===n?l:a;x(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},c,s)))};console.log(l);var p=Object(a.useState)({filepath:[]}),v=Object(r.a)(p,2),g=v[0],N=v[1],S=Object(a.useState)([]),C=Object(r.a)(S,2),y=C[0],T=C[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(o.a)(Object(i.a)().mark((function e(){var t,c;return Object(i.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://127.0.0.1:3002/getreport");case 3:return t=e.sent,e.next=6,t.json();case 6:c=e.sent,N(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Error fetching reports:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){var e=g.filepath.map((function(e){var t=e[0],c=t.split("\\").pop().replace(/\..+$/,"");return{value:t,label:c}}));T(e)}),[g]),Object(h.jsxs)("div",{className:"container",children:[Object(h.jsx)("h1",{children:"Metric Load Time Tool"}),Object(h.jsx)("form",{class:"well form-horizontal mt-5",action:"/submit",method:"post",id:"contact_form",children:Object(h.jsxs)("fieldset",{children:[Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"Check for Multiple Files:"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"checkbox",id:"multiple_files",name:"multipleFiles",value:O.multipleFiles,onChange:f})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"Check for Single File:"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"checkbox",id:"single_file",name:"singleFile",value:O.singleFile,onChange:f})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"File Paths"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)(u.a,{isMulti:!0,options:y,onChange:function(e){s(e.map((function(e){return e.value})).join(",")),x(Object(j.a)(Object(j.a)({},O),{},Object(d.a)({},"filePath",e.map((function(e){return e.value})).join(","))))}})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"Model Name"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{name:"modelName",placeholder:"Enter the Model Name",class:"form-control",type:"text",value:O.modelName,onChange:f})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"XMLA Endpoint"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{name:"xmlaEndpoint",placeholder:"Enter the XMLA Endpoint of Workspace",class:"form-control",value:O.xmlaEndpoint,type:"text",onChange:f})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"Threshold Value"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{name:"thresholdValue",placeholder:"Enter Threshold Value",class:"form-control",value:O.thresholdValue,type:"text",onChange:f})})]}),Object(h.jsxs)("div",{class:"form-group d-flex",children:[Object(h.jsx)("label",{class:"col-md-4 control-label",children:"Running for First Time?"}),Object(h.jsx)("div",{class:"col-md-8",children:Object(h.jsx)("input",{type:"checkbox",id:"running_first_time",name:"isFirstTime",value:O.isFirstTime,onChange:f})})]}),Object(h.jsx)("div",{class:"form-group d-flex",children:Object(h.jsx)("div",{class:"col-md-8 col-md-offset-4",children:Object(h.jsx)("button",{class:"btn btn-success",onClick:function(e){e.preventDefault(),t(O)},children:"Go!"})})})]})})]})},m=c(20),O=(c(244),c(277),c(278),c(271),c(276),c(273),c(257),c(270),c(262),c(274),c(268)),x=(c(263),c(258),c(275)),f=(c(253),c(279),c(280),c(127),c(79)),p=c.n(f),v=(c(247),c(267));c(272);c(35),c(264),c(260),c(259),c(281),c(254),c(265);var g=c(266),N=c(255),S=c(12),C=c(13),y=c(16),T=c(17),w=(c(177),c(178),c(96));function k(e){e.cell._cell.row.data;var t=e.cell._cell.value;e.threshold;return console.log(typeof t),t>0?Object(h.jsx)("p",{className:"text-danger",children:"\u25b2"}):Object(h.jsx)("p",{className:"text-success",children:"\u25bc"})}var F=function(e){Object(y.a)(c,e);var t=Object(T.a)(c);function c(){var e;Object(S.a)(this,c);for(var a=arguments.length,n=new Array(a),l=0;l<a;l++)n[l]=arguments[l];return(e=t.call.apply(t,[this].concat(n))).state={data:e.props.data,threshold:e.props.formData.thresholdValue,isFirstTime:e.props.formData.isFirstTime,divColor:"initial-color",selectedName:""},e.ref=null,e.getColumns=function(){var t=[{title:"Measure",field:"Measure",width:200},{title:"Dimension Name",field:"DimensionName",width:200},{title:"Column Name",field:"ColumnName",width:150},{title:"LoadTime",field:"LoadTime",width:150}];return e.state.isFirstTime||t.push({title:"Previous Load Time",field:"PreviousLoadTime",width:200},{title:"Change in Load Time",field:"ChangeinLoadTime",width:200,formatter:Object(w.reactFormatter)(Object(h.jsx)(k,{}))}),t.push({title:"Report Name",field:"ReportName",width:150},{title:"Page Name",field:"PageName",width:175},{title:"Visual Name",field:"VisualName",width:125},{title:"Visual Title",field:"VisualTitle",width:150}),t},e.rowClick=function(t,c){e.setState({selectedName:c.getData().name})},e.setData=function(){e.setState(e.props.data)},e.clearData=function(){e.setState({data:[]})},e}return Object(C.a)(c,[{key:"render",value:function(){var e=this;return Object(h.jsx)("div",{className:"mt-5 mx-2 border",children:Object(h.jsx)(w.ReactTabulator,{columns:this.getColumns(),data:this.props.data,footerElement:Object(h.jsx)("span",{children:"Footer"}),rowFormatter:function(t){t.getData().LoadTime===e.state.threshold&&(t.getElement().style.backgroundColor="red")}})})}}]),c}(n.a.Component),D=F,E=function(e){var t=e.response,c=e.formData,l=Object(a.useState)(t.result),s=Object(r.a)(l,2),i=s[0],o=(s[1],Object(a.useState)("")),d=Object(r.a)(o,2),j=d[0],u=d[1],b=Object(a.useState)(""),f=Object(r.a)(b,2),v=f[0],S=f[1],C=Object(a.useState)(""),y=Object(r.a)(C,2),T=y[0],w=y[1],k=Object(a.useState)(""),F=Object(r.a)(k,2),E=F[0],V=F[1],M=Object(a.useState)(""),L=Object(r.a)(M,2),P=L[0],_=L[1],R=Object(a.useState)(i),J=Object(r.a)(R,2),W=J[0],A=J[1],I=Object(m.a)(new Set(t.result.map((function(e){return e.Measure})))),z=Object(m.a)(new Set(t.result.map((function(e){return e.DimensionName})))),B=Object(m.a)(new Set(t.result.map((function(e){return e.ReportName})))),X=Object(m.a)(new Set(t.result.map((function(e){return e.VisualName})))),G=Object(m.a)(new Set(t.result.map((function(e){return e.PageName})))),Y=n.a.useState(null),$=Object(r.a)(Y,2),q=$[0],H=$[1],K=Boolean(q),Q=K?"simple-popover":void 0,U=Object(a.useState)(!1),Z=Object(r.a)(U,2),ee=Z[0],te=Z[1],ce=Object(a.useState)(!1),ae=Object(r.a)(ce,2),ne=ae[0],le=ae[1],se=Object(a.useState)(!1),re=Object(r.a)(se,2),ie=re[0],oe=re[1];function de(e,t,c,a,n,l,s){var r=i.filter((function(l){return(""===e||l.Measure===e)&&(""===t||l.DimensionName===t)&&(""===c||l.ReportName===c)&&(""===a||l.VisualName===a)&&(""===n||l.PageName===n)}));A(r)}return Object(h.jsxs)("div",{className:"container mt-5",style:{maxWidth:"fit-content"},children:[Object(h.jsxs)("div",{className:"dropdowns p-10",children:[Object(h.jsxs)("select",{value:j,onChange:function(e){u(e.target.value),de(e.target.value,v,T,E,P)},className:"mx-2",children:[Object(h.jsx)("option",{value:"",children:"Measures"}),I.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]}),Object(h.jsxs)("select",{value:v,onChange:function(e){S(e.target.value),de(j,e.target.value,T,E,P)},className:"mx-2",children:[Object(h.jsx)("option",{value:"",children:"Dimensions"}),z.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]}),Object(h.jsxs)("select",{value:T,onChange:function(e){w(e.target.value),de(j,v,e.target.value,E,P)},className:"mx-2",children:[Object(h.jsx)("option",{value:"",children:"Reports"}),B.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]}),Object(h.jsxs)("select",{value:P,onChange:function(e){_(e.target.value),de(j,v,T,E,e.target.value)},className:"mx-2",children:[Object(h.jsx)("option",{value:"",children:"Pages"}),G.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]}),Object(h.jsxs)("select",{value:E,onChange:function(e){V(e.target.value),de(j,v,T,e.target.value,P)},className:"mx-2",children:[Object(h.jsx)("option",{value:"",children:"Visuals"}),X.map((function(e,t){return Object(h.jsx)("option",{value:e,children:e},t)}))]}),Object(h.jsx)(g.a,{"aria-describedby":Q,variant:"contained",onClick:function(e){H(e.currentTarget)},className:"mx-2",children:Object(h.jsx)(x.a,{children:Object(h.jsx)(p.a,{})})}),Object(h.jsx)(N.a,{id:Q,style:{display:"flex",flexDirection:"row"},open:K,anchorEl:q,onClose:function(){H(null)},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(h.jsxs)(O.a,{sx:{p:2},children:[" ",Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:ee,onChange:function(e){te(e.target.checked),A(i.filter((function(e){return!!ee||e.LoadTime===c.thresholdValue})))}}),"Above Threshold"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:ne,onChange:function(e){le(e.target.checked),A(i.filter((function(e){return!!ne||"1"===e.hasDimension})))}}),"Measure With Dimensions"]}),"\xa0\xa0\xa0\xa0\xa0\xa0",Object(h.jsxs)("label",{children:[Object(h.jsx)("input",{type:"checkbox",checked:ie,onChange:function(e){oe(e.target.checked),A(i.filter((function(e){return!!ie||"-"!==e.VisualName})))}}),"Measure With Visuals"]})]})})]}),Object(h.jsxs)("div",{className:"cards",children:[Object(h.jsx)("div",{className:"carD px-5",children:Object(h.jsx)("div",{className:"card total_measures  rounded-0 ",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h4",{class:"card-text",children:[" ",Object(h.jsx)("b",{children:"Total Measure Combination"})," "]}),Object(h.jsx)("h3",{className:"card-title mb-auto",children:t.result.length})]})})}),Object(h.jsx)("div",{className:"carD px-5",children:Object(h.jsx)("div",{className:"card combinations_below_threshold  rounded-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h4",{className:"card-text",children:[" ",Object(h.jsx)("b",{children:"Combinations below threshold"})," "]}),Object(h.jsx)("h3",{className:"card-title mb-auto",children:t.result.map((function(e){return e.LoadTime})).filter((function(e){return e<c.thresholdValue})).length})]})})}),Object(h.jsx)("div",{className:"carD px-5",children:Object(h.jsx)("div",{className:"card combinations_above_threshold  rounded-0",children:Object(h.jsxs)("div",{className:"card-body",children:[Object(h.jsxs)("h4",{className:"card-text",children:[" ",Object(h.jsx)("b",{children:"Combinations above threshold"})," "]}),Object(h.jsx)("h3",{className:"card-title mb-auto",children:t.result.map((function(e){return e.LoadTime})).filter((function(e){return e===c.thresholdValue})).length})]})})})]}),Object(h.jsx)("div",{className:"table mt-3",style:{overflowY:"auto",height:"67vh"},children:Object(h.jsx)(D,{data:W,formData:c})})]})};c(194),c(195);var V=c(269);function M(e){return Object(h.jsxs)(v.a,{sx:{display:"flex",alignItems:"center"},children:[Object(h.jsx)(v.a,{sx:{width:"100%",mr:1},children:Object(h.jsx)(V.a,Object(j.a)({variant:"determinate"},e))}),Object(h.jsx)(v.a,{sx:{minWidth:35},children:Object(h.jsx)(O.a,{variant:"body2",color:"text.secondary",children:"".concat(Math.round(e.value),"%")})})]})}function L(e){var t=e.totalprogress,c=a.useState(10),n=Object(r.a)(c,2),l=n[0],s=n[1],i=t;return a.useEffect((function(){var e=setInterval((function(){s((function(e){return e>=95?95:e+.001}))}),1e11*i);return function(){clearInterval(e)}}),[]),Object(h.jsx)(v.a,{sx:{width:"100%"},children:Object(h.jsx)(M,{value:l})})}var P=function(){var e=Object(a.useState)(!1),t=Object(r.a)(e,2),c=t[0],n=t[1],l=Object(a.useState)(null),s=Object(r.a)(l,2),i=s[0],o=s[1],d=Object(a.useState)(0),j=Object(r.a)(d,2),u=j[0],m=j[1],O=Object(a.useState)({}),x=Object(r.a)(O,2),f=x[0],p=x[1];return console.log(i),Object(h.jsx)(a.Fragment,{children:Object(h.jsx)("div",{children:c?Object(h.jsx)("div",{children:Object(h.jsx)(L,{totalprogress:u})}):i?Object(h.jsx)(E,{response:i,formData:f}):Object(h.jsx)(b,{handleFormSubmit:function(e){console.log(e),n(!0),p(e),fetch("http://127.0.0.1:3002/progress",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){m(JSON.parse(e).result)})).catch((function(e){console.error("Error:",e),alert(e)})),setTimeout((function(){fetch("http://127.0.0.1:3002/data",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(i),o(JSON.parse(e)),n(!1)})).catch((function(e){console.error("Error:",e),alert(e)}))}),1e5)}})})})};s.a.render(Object(h.jsx)(n.a.StrictMode,{children:Object(h.jsx)(P,{})}),document.getElementById("root"))}},[[196,1,2]]]);
//# sourceMappingURL=main.cbf05172.chunk.js.map